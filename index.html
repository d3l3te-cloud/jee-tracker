<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <title>Praxis â€“ CBSE Boards Prep</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Optional favicon (add your own file) -->
  <link rel="icon" href="/favicon.ico" />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<!-- ========== TOP BAR ========== -->
<header class="topbar">
  <div class="topbar-left">
    <button id="navToggle" class="icon-btn nav-toggle" aria-label="Toggle navigation">â˜°</button>
    <div class="logo">Praxis</div>

    <nav class="topnav">
      <button class="topnav-item active" data-view="dashboardView">Dashboard</button>
      <button class="topnav-item" data-view="courseView">Courses</button>
      <button class="topnav-item" data-view="analysisView">Analysis</button>
      <button id="navAdminBtn" class="topnav-item" data-view="adminView">Admin</button>
    </nav>
  </div>

  <div class="topbar-right">
    <button id="annBtn" class="icon-btn" title="Announcements">ðŸ””</button>
    <button id="themeToggle" class="icon-btn" title="Toggle theme">ðŸŒ™</button>

    <div id="authArea"></div>
  </div>
</header>

<!-- ========== MAIN LAYOUT ========== -->
<div class="layout">
  <main class="content">

    <!-- ========== DASHBOARD VIEW ========== -->
    <section id="dashboardView" class="view active">
      <div class="card hero-card">
        <div class="hero-main">
          <h1 class="hero-title">Praxis Prep</h1>
          <p class="hero-subtitle">
            
          </p>
          <div class="hero-actions">
            <button id="startStudy" class="btn-primary small">Start Study</button>
          </div>
          <div id="userStatusMsg" class="muted small">
           
          </div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-label">Overall Progress</div>
          <div id="overallProgress" class="hero-stat-value">0%</div>
        </div>
      </div>

      <div class="dashboard-grid-two">
        <div class="card">
          <h2 class="card-title">Choose Class</h2>
          <p class="muted small">Open batches by choosing your class.</p>
          <div class="pathway-grid">
            <button class="pathway-card" data-class="10">
              <div class="pathway-title">Class 10</div>
              <div class="pathway-subtitle">Secondary</div>
            </button>
            <button class="pathway-card" data-class="12">
              <div class="pathway-title">Class 12</div>
              <div class="pathway-subtitle">Senior Secondary</div>
            </button>
          </div>
        </div>

        <div class="card">
          <h2 class="card-title">Recent Activity</h2>
          <div id="recentActivity" class="muted small">
            No activity yet. Start any lecture.
          </div>
        </div>
      </div>
    </section>

    <!-- ========== COURSES VIEW ========== -->
    <section id="courseView" class="view">
      <div class="card course-controls">
        <div class="course-control-block">
          <div class="small muted">Class</div>
          <div id="currentClassLabel" class="course-control-value">Not selected</div>
        </div>
        <div class="course-control-block">
          <div class="small muted">Batch</div>
          <select id="batchSelect" class="course-select"></select>
        </div>
        <div class="course-control-block">
          <div class="small muted">Subject</div>
          <select id="subjectSelect" class="course-select"></select>
        </div>
      </div>

      <div class="course-layout">
        <div class="course-left card">
          <h2 class="card-title">Chapters</h2>
          <ul id="chapterList" class="chapter-list"></ul>
        </div>

        <div class="course-right">
          <div class="chapter-header">
            <div>
              <h2 id="chapterTitle">Select a chapter</h2>
              <p id="chapterDesc" class="muted small">
                Choose a chapter on the left to see lectures and material.
              </p>
            </div>
            <div id="chapterProgress" class="badge badge-muted">
              0% complete
            </div>
          </div>

          <div class="tabs">
            <button class="tab active" data-tab="lecturesTab">Lectures</button>
            <button class="tab" data-tab="notesTab">Notes</button>
            <button class="tab" data-tab="dppTab">DPP</button>
            <button class="tab" data-tab="solutionsTab">Solutions</button>
            <button class="tab" data-tab="testsTab">Tests</button>
          </div>

          <!-- Lectures -->
          <div id="lecturesTab" class="tab-panel active">
            <div class="card">
              <h3 class="card-title">Lectures</h3>
              <ul id="lectureList" class="list"></ul>
            </div>
          </div>

          <!-- Notes -->
          <div id="notesTab" class="tab-panel">
            <div class="card">
              <h3 class="card-title">Notes (PDF)</h3>
              <ul id="notesList" class="list"></ul>
            </div>
          </div>

          <!-- DPP -->
          <div id="dppTab" class="tab-panel">
            <div class="card">
              <h3 class="card-title">DPP</h3>
              <ul id="dppList" class="list"></ul>
            </div>
          </div>

          <!-- Solutions -->
          <div id="solutionsTab" class="tab-panel">
            <div class="card">
              <h3 class="card-title">Solutions</h3>
              <ul id="solutionsList" class="list"></ul>
            </div>
          </div>

          <!-- Tests -->
          <div id="testsTab" class="tab-panel">
            <div class="card">
              <h3 class="card-title">Tests</h3>
              <ul id="testsList" class="list"></ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ========== ANALYSIS VIEW ========== -->
    <section id="analysisView" class="view">
      <div class="card">
        <h2 class="card-title">Analysis</h2>
        <div id="analysisContent" class="muted small">
          Complete some lectures to see analysis.
        </div>
      </div>
    </section>

    <!-- ========== ADMIN VIEW ========== -->
    <section id="adminView" class="view">
      <h2>Admin Panel (Global)</h2>
      <p id="adminStatus" class="muted small">
        Sign in as admin to edit.
      </p>

      <div class="grid">
        <!-- Batches -->
        <div class="card admin-card">
          <h3>Batches</h3>
          <label class="field">
            <span>Class</span>
            <select id="adminBatchClass">
              <option value="10">Class 10</option>
              <option value="12">Class 12</option>
            </select>
          </label>
          <label class="field">
            <span>New Batch Name</span>
            <input id="adminNewBatchName" placeholder="Class 10 â€“ Board Booster" />
          </label>
          <button id="adminAddBatch" class="btn-primary small">Create Batch</button>

          <hr class="divider-line" />

          <label class="field">
            <span>Existing Batches</span>
            <select id="adminBatchSelect"></select>
          </label>
          <button id="adminDeleteBatch" class="btn-secondary small">Delete Selected Batch</button>
          <div id="adminBatchMsg" class="muted small"></div>
        </div>

        <!-- Subjects -->
        <div class="card admin-card">
          <h3>Subjects</h3>
          <label class="field">
            <span>Batch</span>
            <select id="adminSubjectBatch"></select>
          </label>
          <label class="field">
            <span>New Subject Name</span>
            <input id="adminNewSubjectName" placeholder="Mathematics" />
          </label>
          <button id="adminAddSubject" class="btn-primary small">Create Subject</button>

          <hr class="divider-line" />

          <label class="field">
            <span>Existing Subjects</span>
            <select id="adminSubjectSelect"></select>
          </label>
          <button id="adminDeleteSubject" class="btn-secondary small">Delete Selected Subject</button>
          <div id="adminSubjectMsg" class="muted small"></div>
        </div>

        <!-- Chapters -->
        <div class="card admin-card">
          <h3>Chapters</h3>
          <label class="field">
            <span>Batch</span>
            <select id="adminChapterBatch"></select>
          </label>
          <label class="field">
            <span>Subject</span>
            <select id="adminChapterSubject"></select>
          </label>
          <label class="field">
            <span>New Chapter Name</span>
            <input id="adminNewChapterName" placeholder="Chapter 1: Real Numbers" />
          </label>
          <label class="field">
            <span>Description</span>
            <textarea id="adminNewChapterDesc" rows="2"></textarea>
          </label>
          <button id="adminAddChapter" class="btn-primary small">Create Chapter</button>

          <hr class="divider-line" />

          <label class="field">
            <span>Existing Chapters</span>
            <select id="adminChapterSelect"></select>
          </label>
          <button id="adminDeleteChapter" class="btn-secondary small">
            Delete Selected Chapter
          </button>
          <div id="adminChapterMsg" class="muted small"></div>
        </div>

        <!-- Lectures -->
        <div class="card admin-card">
          <h3>Lectures</h3>
          <label class="field">
            <span>Batch</span>
            <select id="lecBatch"></select>
          </label>
          <label class="field">
            <span>Subject</span>
            <select id="lecSubject"></select>
          </label>
          <label class="field">
            <span>Chapter</span>
            <select id="lecChapter"></select>
          </label>

          <label class="field">
            <span>New Lecture Title</span>
            <input id="lecTitle" placeholder="Introduction to Real Numbers" />
          </label>
          <label class="field">
            <span>YouTube URL or ID</span>
            <input id="lecYT" placeholder="https://www.youtube.com/watch?v=..." />
          </label>
          <button id="addLectureBtn" class="btn-primary small">Add Lecture</button>

          <hr class="divider-line" />

          <label class="field">
            <span>Existing Lectures</span>
            <select id="lecSelect"></select>
          </label>
          <button id="deleteLectureBtn" class="btn-secondary small">Delete Selected Lecture</button>
          <div id="adminLectureMsg" class="muted small"></div>
        </div>

        <!-- PDF Resources -->
        <div class="card admin-card">
          <h3>PDF Resources</h3>
          <label class="field">
            <span>Batch</span>
            <select id="resBatch"></select>
          </label>
          <label class="field">
            <span>Subject</span>
            <select id="resSubject"></select>
          </label>
          <label class="field">
            <span>Chapter</span>
            <select id="resChapter"></select>
          </label>

          <label class="field">
            <span>Type</span>
            <select id="resType">
              <option value="notes">Notes</option>
              <option value="dpp">DPP</option>
              <option value="solutions">Solutions</option>
              <option value="tests">Tests</option>
            </select>
          </label>

          <label class="field">
            <span>New Resource Title</span>
            <input id="resTitle" placeholder="Real Numbers - DPP 01" />
          </label>
          <label class="field">
            <span>PDF URL (GitHub / direct)</span>
            <input id="resUrl" placeholder="https://raw.githubusercontent.com/...pdf" />
          </label>
          <button id="addResBtn" class="btn-primary small">Add Resource</button>

          <hr class="divider-line" />

          <label class="field">
            <span>Existing Resources (current type)</span>
            <select id="resSelect"></select>
          </label>
          <button id="delResBtn" class="btn-secondary small">Delete Selected Resource</button>
          <div id="adminResMsg" class="muted small"></div>
        </div>

        <!-- Announcements -->
        <div class="card admin-card">
          <h3>Announcements</h3>
          <p class="muted small">Admins can post short messages visible to all users.</p>

          <label class="field">
            <span>Title</span>
            <input id="annTitle" placeholder="Exam update" />
          </label>
          <label class="field">
            <span>Message</span>
            <textarea id="annBody" rows="2" placeholder="Chapter test on Sunday 5 PM."></textarea>
          </label>
          <button id="createAnnBtn" class="btn-primary small">Create Announcement</button>

          <hr class="divider-line" />

          <label class="field">
            <span>Existing Announcements</span>
            <select id="adminAnnSelect"></select>
          </label>
          <button id="deleteAnnBtn" class="btn-secondary small">Delete Selected</button>

          <div id="adminAnnMsg" class="muted small"></div>
        </div>

      </div>
    </section>

  </main>
</div>

<!-- ========== AUTH MODAL (EMAIL) ========== -->
<div id="authModal" class="modal hidden">
  <div class="modal-backdrop"></div>
  <div class="modal-dialog">
    <div class="modal-header">
      <h3>Email Sign in / Signup</h3>
      <button id="closeAuthModal" class="icon-btn">âœ•</button>
    </div>
    <div class="modal-body">
      <label class="field">
        <span>Email</span>
        <input id="authEmail" type="email" placeholder="you@example.com" />
      </label>
      <label class="field">
        <span>Password</span>
        <input id="authPassword" type="password" placeholder="At least 6 chars" />
      </label>
      <div style="margin-top:10px; display:flex; gap:10px;">
        <button id="emailLoginBtn" class="btn-primary small">Login</button>
        <button id="emailSignupBtn" class="btn-secondary small">Signup</button>
      </div>
      <p id="authError" class="muted small"></p>
    </div>
  </div>
</div>

<!-- ========== ANNOUNCEMENTS MODAL ========== -->
<div id="annModal" class="modal hidden">
  <div class="modal-backdrop"></div>
  <div class="modal-dialog">
    <div class="modal-header">
      <h3>Announcements</h3>
      <button id="closeAnnModal" class="icon-btn">âœ•</button>
    </div>
    <div class="modal-body">
      <ul id="annList" class="list"></ul>
    </div>
  </div>
</div>

<!-- ========== VIDEO PLAYER MODAL ========== -->
<div id="videoModal" class="modal hidden">
  <div class="modal-backdrop"></div>
  <div class="modal-dialog player-modal-dialog">
    <div class="modal-header">
      <h3 id="videoTitle">Lecture</h3>
      <button id="closeVideo" class="icon-btn">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="player-wrapper full">
        <div class="player-iframe-container">
          <iframe
            id="videoFrame"
            src=""
            title="Lecture"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
        </div>
      </div>
      <div class="player-actions">
        <button id="markCompleteBtn" class="btn-primary small">Mark as completed</button>
        <span id="videoStatus" class="muted small"></span>
      </div>
    </div>
  </div>
</div>

<!-- ========== SCRIPTS ========== -->
<script type="module" src="app.js"></script>
</body>
</html>
