:root {
  /* --- Base Colors (Palette: Deep Abyss) --- */
  --bg: #0d1117; /* Primary Dark Background (The Abyss) */
  --bg-alt: #161b22; /* Card/Modal Background */
  --bg-soft: #1c2128; /* Hover/Subtle Background */
  --border: #30363d; /* Subtle Border */
  --text: #e0e6f1; /* Main Text - Slightly cooler white */
  --text-soft: #9aa8b8; /* Muted Text */

  /* --- Accent Colors (Palette: Neon & Velvet) --- */
  --accent-primary: #007cf0; /* Deep Blue Neon */
  --accent-secondary: #ff3860; /* Sassy Pink/Red for highlights */
  --accent-primary-soft: rgba(0, 124, 240, 0.15); /* Light Blue Soft */
  --accent-primary-strong: #0056b3;
  
  /* --- Design System --- */
  --radius-sm: 8px;
  --radius-lg: 16px; /* Slightly larger radius */
  --radius-xl: 24px; 
  --shadow-deep: 0 25px 50px -12px rgba(0, 0, 0, 0.55); /* Dramatic, deep shadow */
  --shadow-hover: 0 10px 20px rgba(0, 124, 240, 0.3); /* Accent glow on hover */
  --transition-speed: 0.3s;
  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

html[data-theme="light"] {
  /* Paler, professional light mode */
  --bg: #f7f9fc; 
  --bg-alt: #ffffff;
  --bg-soft: #eef1f5; 
  --border: #d7dce3; 
  --accent-primary: #0969da;
  --accent-secondary: #e51d45; 
  --accent-primary-soft: rgba(9, 105, 218, 0.1);
  --accent-primary-strong: #0550ae;
  --text: #1a1e23;
  --text-soft: #636c76;
  --shadow-deep: 0 18px 40px rgba(15, 23, 42, 0.15);
  --shadow-hover: 0 8px 16px rgba(9, 105, 218, 0.2); 
}

/* --- Global Resets & Typography --- */
*,
*::before,
*::after {
  box-sizing: border-box;
  /* Add smooth transitions to almost everything */
  transition: background-color var(--transition-speed), border-color var(--transition-speed), box-shadow var(--transition-speed), color var(--transition-speed), transform var(--transition-speed);
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: var(--font-sans);
  /* Deeper, more luxurious dark background */
  background: radial-gradient(circle at 10% 20%, #08111f 0%, #03050c 100%);
  color: var(--text);
  line-height: 1.6;
}

a {
  color: var(--accent-primary);
  text-decoration: none;
  font-weight: 500;
}

a:hover {
  text-decoration: underline;
  color: var(--accent-primary-strong);
}

.muted {
  color: var(--text-soft);
}
.small {
  font-size: 0.9rem; /* Slightly larger small text for readability */
}

/* --- Topbar (Sticky & Sleek) --- */
.topbar {
  height: 64px; /* Slightly taller */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px; /* More padding */
  border-bottom: 1px solid var(--border);
  /* More pronounced backdrop blur */
  background: rgba(13, 17, 23, 0.85); 
  backdrop-filter: blur(20px); 
  position: sticky;
  top: 0;
  z-index: 20;
}

html[data-theme="light"] .topbar {
  background: rgba(247, 249, 252, 0.9);
}

.topbar-left,
.topbar-right {
  display: flex;
  align-items: center;
  gap: 12px;
}

.logo {
  font-weight: 800; /* Bolder logo */
  font-size: 1.1rem;
  padding: 6px 14px;
  border-radius: var(--radius-sm); 
  background: linear-gradient(90deg, var(--accent-primary-soft), transparent);
  color: var(--accent-primary);
  letter-spacing: 0.08em; /* More spacing */
  text-transform: uppercase;
}

.topnav {
  display: flex;
  gap: 8px;
  margin-left: 15px;
}

.topnav-item {
  border-radius: var(--radius-sm);
  border: 1px solid transparent;
  background: transparent;
  padding: 8px 14px;
  font-size: 0.9rem;
  color: var(--text-soft);
  cursor: pointer;
}

.topnav-item:hover {
  background: var(--bg-soft);
  color: var(--text); /* Highlight text on hover */
}

.topnav-item.active {
  background: var(--accent-primary-soft);
  border-color: var(--accent-primary); /* Stronger border for active */
  color: var(--accent-primary);
  font-weight: 600;
}

.icon-btn {
  border-radius: 50%; /* Perfect circle */
  border: 1px solid var(--border);
  background: var(--bg-soft);
  color: var(--text-soft);
  width: 36px; /* Slightly larger */
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.icon-btn:hover {
    color: var(--accent-primary);
    border-color: var(--accent-primary);
    transform: translateY(-1px); /* Subtle lift */
}

/* --- Layout & Content --- */
.layout {
  height: calc(100vh - 64px); /* Adjusted for taller topbar */
  display: grid;
}

.content {
  padding: 24px; /* More breathing room */
  overflow-y: auto;
}

.view {
  display: none;
}
.view.active {
  display: block;
}

/* --- Buttons (Bold & Gradient) --- */
.btn-primary,
.btn-secondary {
  border-radius: var(--radius-sm); /* Squared-off corners for a cleaner look */
  border: 1px solid transparent;
  padding: 8px 18px; /* More substantial padding */
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-width: 120px;
}

.btn-primary {
  /* More vibrant gradient */
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-primary-strong));
  color: #fff;
  box-shadow: 0 10px 25px rgba(0, 124, 240, 0.4); 
}
.btn-primary:hover {
    transform: translateY(-2px); /* Lift on hover */
    box-shadow: 0 15px 30px rgba(0, 124, 240, 0.55);
}

.btn-secondary {
  background: var(--bg-soft);
  border-color: var(--border);
  color: var(--text);
}
.btn-secondary:hover {
    border-color: var(--accent-secondary); /* Sassy border hover */
    color: var(--accent-secondary);
    transform: translateY(-1px);
}

.btn-primary.small,
.btn-secondary.small {
  padding: 6px 14px;
  font-size: 0.85rem;
  min-width: 90px;
}

/* --- Cards & Grid (Elevated & Deep) --- */
.card {
  background: var(--bg-alt);
  border-radius: var(--radius-lg); /* Larger, more deliberate radius */
  border: 1px solid var(--border);
  padding: 20px; /* More padding */
  box-shadow: var(--shadow-deep); /* Dramatic shadow */
}
.card:hover {
    /* Subtle glow on hover */
    border-color: var(--accent-primary-strong); 
    box-shadow: var(--shadow-deep), var(--shadow-hover);
}

.card-title {
  font-size: 1.25rem;
  font-weight: 700;
  margin-top: 0;
  margin-bottom: 6px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Wider columns */
  gap: 20px;
  margin-top: 20px;
}

/* --- Dashboard (Heroic) --- */
.hero-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  margin-bottom: 24px;
}

.hero-main {
  max-width: 600px;
}
.hero-title {
  font-size: 2.5rem; /* Bigger, bolder title */
  font-weight: 800;
  margin: 0 0 8px;
  line-height: 1.2;
}
.hero-subtitle {
  font-size: 1rem;
  color: var(--text-soft);
}
.hero-actions {
  margin-top: 15px;
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}
.hero-stat {
  text-align: right;
  padding: 10px 15px;
  background: var(--bg-soft);
  border-radius: var(--radius-sm);
}
.hero-stat-label {
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--accent-secondary); /* Use secondary accent for pop */
}
.hero-stat-value {
  font-size: 2.2rem;
  font-weight: 900;
  margin-top: 4px;
}

/* --- Lists & Navigation --- */
.chapter-item,
.list-item-row,
.pathway-card {
    transition: all var(--transition-speed); /* Ensure transitions are applied */
}

/* Highlight the whole row more dynamically */
.chapter-item:hover,
.list-item-row:hover,
.pathway-card:hover {
    background: var(--bg-soft);
    border-color: var(--accent-primary-soft);
    transform: scale(1.01); /* Subtle "pop" effect */
}

.list-title {
    font-weight: 600;
}
.list-status {
    color: var(--accent-secondary); /* Use secondary accent here */
    font-weight: 600;
}

/* --- Forms (Polished Inputs) --- */
.field input,
.field select,
.field textarea {
  padding: 10px 12px;
  border-radius: var(--radius-sm); 
  border: 1px solid var(--border);
  background: var(--bg-soft);
  color: var(--text);
  font-size: 0.9rem;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
}
.field input:focus,
.field select:focus,
.field textarea:focus {
    border-color: var(--accent-primary);
    outline: none;
    background: var(--bg-alt);
    box-shadow: 0 0 0 3px var(--accent-primary-soft);
}

/* --- Modal (Premium Feel) --- */
.modal-backdrop {
    background: rgba(8, 11, 16, 0.85); /* Darker, more immersive backdrop */
}
.modal-dialog {
  border-radius: 20px; /* Softer, premium corners */
  padding: 20px 24px;
  box-shadow: var(--shadow-deep);
  max-width: 1000px; /* Slightly wider max-width */
}

/* --- Responsive Adjustments --- */
@media (max-width: 640px) {
  .topbar {
    height: auto;
    padding: 8px 12px;
  }
  .content {
      padding: 16px;
  }
  .hero-title {
    font-size: 2rem;
  }
  .grid {
    gap: 16px;
  }
}
